# Cloud Run Environment Variables Configuration
# Copy this to your deployment or set via: gcloud run services update marketsense-backend --update-env-vars ...

# Environment Configuration
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration
# Format: postgresql://user:password@/PROJECT_ID:REGION:INSTANCE_NAME/database_name
# Get CONNECTION_NAME from: gcloud sql instances describe INSTANCE_NAME --format='value(connectionName)'
DATABASE_URL=postgresql://marketuser:YOUR_PASSWORD@/your-project:us-central1:marketsense-db/multiasset

# Redis Configuration
# Format: redis://REDIS_HOST:REDIS_PORT
# Get from: gcloud redis instances describe marketsense-cache --region us-central1 --format='value(host,port)'
REDIS_URL=redis://REDIS_HOST:6379

# API Keys (Required)
OPENAI_API_KEY=your_openai_api_key
GROQ_API_KEY=your_groq_api_key
FRED_API_KEY=your_fred_api_key
SERPER_API_KEY=your_serper_api_key
SERPAPI_KEY=your_serpapi_key

# Optional API Keys
ALPHA_VANTAGE_KEY=your_alpha_vantage_key
NEWSAPI_KEY=your_newsapi_key

# Application Settings
APP_HOST=0.0.0.0
APP_PORT=8000
SECRET_KEY=your_secret_key_for_jwt

# CORS Configuration
CORS_ORIGINS=https://your-frontend-domain.com,https://www.your-frontend-domain.com

# Feature Flags
ENABLE_CONVERSATION_MEMORY=true
ENABLE_RAG=true
ENABLE_CACHE=true

# Cache Settings
CACHE_TTL=1800  # 30 minutes in seconds
MAX_CACHE_SIZE=1000

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60  # seconds

# Logging
LOG_FORMAT=json
LOG_OUTPUT=stdout

# Security
ALLOWED_HOSTS=*
SECURE_COOKIES=true
SAME_SITE_COOKIE=Lax

# Timeouts
REQUEST_TIMEOUT=30
ANALYSIS_TIMEOUT=300

# Worker Configuration (if using task queue)
WORKER_THREADS=4
QUEUE_MAX_SIZE=1000

# Monitoring
ENABLE_METRICS=true
ENABLE_TRACING=true
